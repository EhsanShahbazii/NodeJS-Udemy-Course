1
00:00:02,100 --> 00:00:05,340
پس بیایید با ثبت مسیرها شروع کنیم

2
00:00:05,340 --> 00:00:11,790
و برای این به پوشه routes خواهم رفت. آنجا ما مدیر و فروشگاه داریم و این هنوز هم به نظر می رسد

3
00:00:11,790 --> 00:00:13,700
یک تمایز مناسب

4
00:00:13,800 --> 00:00:16,400
و اجازه دهید با مسیرهای مربوط به فروشگاه شروع کنیم.

5
00:00:16,410 --> 00:00:18,600
در حال حاضر صفحه شروع را دریافت کردیم،

6
00:00:18,600 --> 00:00:24,930
اکنون ما همچنین به یک مسیر دریافت برای /products نیاز داریم زیرا اگر به navigation.ejs خود نگاهی بیندازیم

7
00:00:24,930 --> 00:00:33,040
فایل، این پیوند جدیدی است که ما اضافه کردیم، بنابراین /products. ما همچنین به /cart نیاز داریم زیرا اینطور است

8
00:00:33,070 --> 00:00:34,870
لینک جدید دیگری که داریم و

9
00:00:34,870 --> 00:00:39,450
این نیز یک مسیر دریافت خواهد بود و من البته توابع کنترلر را نیز اضافه خواهم کرد

10
00:00:39,540 --> 00:00:47,730
اما ابتدا همه مسیرها را تعریف می کنم. بنابراین من به /cart نیز نیاز دارم و بعداً به یک مسیر نیز نیاز خواهم داشت

11
00:00:47,730 --> 00:00:48,990
فرآیند پرداخت،

12
00:00:49,020 --> 00:00:55,290
بنابراین /checkout در حال حاضر چیزی است که ما همچنین می توانیم اضافه کنیم و بدیهی است که شما آزاد هستید هر یک از این موارد را ویرایش کنید

13
00:00:55,300 --> 00:00:56,880
مسیرهای مورد علاقه شما،

14
00:00:57,030 --> 00:01:02,790
فقط مطمئن شوید که سپس پیوندهایی را که ممکن است در برنامه خود داشته باشید تنظیم کنید. اکنون

15
00:01:02,810 --> 00:01:10,220
علاوه بر بازدید از /products، ما همچنین به یک محصول واحد نیاز خواهیم داشت که در واقع شامل خواهد شد

16
00:01:10,220 --> 00:01:12,530
یک منطق جدید که من به آن باز خواهم گشت

17
00:01:12,530 --> 00:01:14,980
پس بیایید فعلاً به این مسیرهای کلی پایبند باشیم.

18
00:01:15,170 --> 00:01:17,980
البته ما به چیزی بیش از مسیرهای فروشگاه نیاز داریم،

19
00:01:17,990 --> 00:01:21,580
ما همچنین برخی از مسیرهای مدیریت را دریافت کردیم، به عنوان مثال در یک ناوبری،

20
00:01:21,590 --> 00:01:26,210
ما محصولات مدیریت جدید را اینجا دریافت کردیم و سپس به یک مسیر برای ویرایش نیز نیاز خواهیم داشت،

21
00:01:26,210 --> 00:01:30,540
ما این را بعدا اضافه خواهیم کرد و برای حذف، همچنین چیزی که بعدا اضافه خواهم کرد.

22
00:01:30,540 --> 00:01:34,290
بنابراین در حال حاضر به سادگی به admin.js برویم و در آنجا اضافه خواهم کرد

23
00:01:34,310 --> 00:01:40,710
یک مسیر دریافت جدید چون می‌خواهم صفحه جدیدی را بارگیری کنم و آن فقط /products خواهد بود. اکنون

24
00:01:40,730 --> 00:01:47,730
هرگز فراموش نکنید که این درست مانند مسیرهای دیگر در مسیری است که با /admin شروع می شود

25
00:01:47,750 --> 00:01:54,410
زیرا این همان چیزی است که در app.js برای آن فیلتر می کنیم و البته برای آن به یک تابع کنترلر نیز نیاز داریم.

26
00:01:54,720 --> 00:01:55,000
خوب

27
00:01:55,040 --> 00:01:56,190
بنابراین این خوب به نظر می رسد،

28
00:01:56,300 --> 00:01:58,600
حالا کنترلرها چطور؟

29
00:01:58,640 --> 00:02:01,460
اکنون می توانیم رویکردهای مختلفی را در آنجا دنبال کنیم،

30
00:02:01,490 --> 00:02:06,800
بدیهی است که بسیاری از چیزهایی که ما داریم هنوز به محصولات مربوط می شود، اما ما همچنین مسیرهای جدیدی را دریافت کردیم

31
00:02:06,800 --> 00:02:08,420
سبد خرید یا تسویه حساب

32
00:02:08,960 --> 00:02:11,710
و بعداً به عنوان مثال سفارشات را نیز اضافه خواهیم کرد.

33
00:02:11,930 --> 00:02:13,270
بنابراین ما به آن رسیدیم،

34
00:02:13,400 --> 00:02:18,740
اکنون اینها به طور ضمنی البته مربوط به محصولات هستند،

35
00:02:18,740 --> 00:02:20,630
ما در پایان محصولات را خریداری می کنیم

36
00:02:20,900 --> 00:02:28,100
اما ما همچنین می‌توانیم استدلال کنیم که از نظر معنایی یا از منظر منطق، آنها بیشتر به کلی تعلق دارند

37
00:02:28,160 --> 00:02:29,980
ایده فروشگاه

38
00:02:30,290 --> 00:02:38,450
بنابراین اکنون ممکن است به استفاده از یک کنترلر فروشگاهی و یک کنترلر مدیریت جدید برگردیم تا بتوانیم

39
00:02:38,450 --> 00:02:41,330
منطق ما را به این دو بخش تقسیم کنید،

40
00:02:41,330 --> 00:02:46,820
در غیر این صورت، البته می توانید در مورد استفاده از یک کنترل کننده محصولات و یک کنترل کننده فروشگاه و نیز فکر کنید

41
00:02:46,820 --> 00:02:52,160
همه چیز مربوط به محصولات را فقط در کنترلر محصولات و مواردی مانند سبد خرید و پرداخت داشته باشید

42
00:02:52,240 --> 00:02:53,690
در کنترل کننده مغازه

43
00:02:53,750 --> 00:02:55,440
اما من برای این تنظیم خواهم رفت.

44
00:02:55,820 --> 00:03:03,020
حالا که البته به این معنی است که دو مسیر مربوط به مدیر من، دریافت محصول اضافه و ارسال محصول باید باشد

45
00:03:03,020 --> 00:03:04,470
از shop.js حذف شود

46
00:03:04,510 --> 00:03:07,850
فایل و وارد فایل admin.js شوید،

47
00:03:07,850 --> 00:03:09,440
این منطقی تر است

48
00:03:10,440 --> 00:03:12,690
من همچنین به مدل خود در اینجا نیاز خواهم داشت،

49
00:03:12,750 --> 00:03:17,950
پس بیایید آن import را بگیریم و همچنین آن را در اینجا در فایل admin.js اضافه کنیم.

50
00:03:17,970 --> 00:03:21,380
این پیامدهایی برای مسیرهای من دارد زیرا در مسیرهای مدیریت،

51
00:03:21,390 --> 00:03:23,620
من هنوز در حال وارد کردن کنترلر فروشگاه هستم،

52
00:03:23,760 --> 00:03:31,740
خوب این اکنون باید به کنترل کننده مدیریت تبدیل شود و بنابراین باید نام آن را به کنترل کننده مدیریت نیز تغییر دهم

53
00:03:31,850 --> 00:03:38,610
در اینجا و سپس آن را جایگزین کنید و یک کار مشابه باید در فایل shop.js انجام شود

54
00:03:38,610 --> 00:03:39,830
پوشه مسیرها

55
00:03:39,980 --> 00:03:48,120
آنجا ما کنترل کننده فروشگاه را وارد می کنیم که خوب است اما باید نام آن را هم کنترل کننده فروشگاه بگذارم و البته بعد

56
00:03:48,120 --> 00:03:50,350
آن را نیز جایگزین کنید

57
00:03:50,420 --> 00:03:52,260
بنابراین این به نظر من کمی تمیزتر است

58
00:03:52,340 --> 00:03:58,630
و با آن، اکنون می توانیم مسیرهای دیگر خود را نیز متصل کنیم. البته برای این کار ابتدا باید آنها را اضافه کنیم،

59
00:03:58,630 --> 00:04:08,390
پس بیایید با shop.js شروع کنیم و در آنجا صفحه جدیدی صادر می کنم و این باید تابع دریافت شاخص من باشد.

60
00:04:08,390 --> 00:04:10,000
اینجا، آنجا

61
00:04:10,010 --> 00:04:19,040
من می‌خواهم صفحه فهرست را رندر کنم تا تابع میان‌افزار خود را اینجا و آنجا دریافت کنم البته من نیز

62
00:04:19,040 --> 00:04:22,010
می خواهید برخی از محصولات را واکشی کنید و نمایی را ارائه دهید.

63
00:04:22,370 --> 00:04:26,110
در حال حاضر، بنابراین من به سادگی منطق دریافت محصولات را کپی می کنم،

64
00:04:26,120 --> 00:04:31,870
بنابراین در حال حاضر دو صفحه یکسان هستند، اما من فهرست فروشگاه را در اینجا ارائه خواهم کرد.

65
00:04:31,970 --> 00:04:34,890
بنابراین با استفاده از نمای صفحه فهرست در اینجا

66
00:04:35,030 --> 00:04:39,590
و حتی اگر همان محصولات را در آنجا داشته باشیم، البته می توانیم روی نما کار کنیم و متفاوت نشان دهیم

67
00:04:39,590 --> 00:04:42,540
متن شروع در آنجا برای صفحه شروع،

68
00:04:42,560 --> 00:04:44,020
هر چیزی شبیه آن

69
00:04:44,490 --> 00:04:49,510
خوب حالا ما ایندکس را دریافت کردیم و محصولات را دریافت کردیم و اگر به فایل مسیرها برویم،

70
00:04:49,510 --> 00:04:55,580
این بدان معناست که برای اسلش هر چیزی، من در واقع می خواهم تابع get index را بارگیری کنم

71
00:04:55,580 --> 00:05:01,580
اینجا در کنترلر من است زیرا این صفحه شروع است و برای محصولات / است که می خواهم بارگیری کنم

72
00:05:01,760 --> 00:05:03,640
در عوض محصولات را دریافت کنید.

73
00:05:04,730 --> 00:05:10,010
همچنین باید صفحات سبد خرید و تسویه حساب را بارگیری کنیم و بنابراین اجازه دهید به کنترل کننده فروشگاه برگردیم

74
00:05:10,460 --> 00:05:15,480
و در آنجا، ما فهرست دریافت کردیم و محصولات را دریافت کردیم،

75
00:05:15,550 --> 00:05:23,440
من چیز جدیدی صادر خواهم کرد و آن سبد خرید خواهد بود و دوباره آنجا، درخواست، پاسخ، بعدی چیست

76
00:05:23,440 --> 00:05:24,450
من اینجا دارم

77
00:05:26,180 --> 00:05:35,460
و من یک نمای جدید را در اینجا ارائه خواهم کرد و آن نمای shop/cart خواهد بود و به cart.ejs اشاره می کند.

78
00:05:35,460 --> 00:05:39,390
فایل را در پوشه فروشگاه قرار دهید و من مقداری داده را به آن ارسال می کنم

79
00:05:39,390 --> 00:05:45,800
برای مثال من باید مسیر را به /cart تنظیم کنم. به هر حال برای لیست محصولات در اینجا،

80
00:05:45,810 --> 00:05:51,940
من همچنین باید آن را روی /products تنظیم کنم زیرا این مسیری است که ما در ناوبری آن را بررسی می کنیم.

81
00:05:51,960 --> 00:05:57,480
ما همچنین می توانیم عنوان را در اینجا به همه محصولات و در صفحه شروع تغییر دهیم،

82
00:05:57,540 --> 00:05:59,510
من آن را در مغازه می گذارم.

83
00:05:59,640 --> 00:06:01,920
من محصولات را به هر دو نما منتقل می کنم،

84
00:06:02,190 --> 00:06:04,520
من واقعاً دیگر به آن کد نیاز ندارم،

85
00:06:04,560 --> 00:06:08,000
این یادگاری است که ما از دوران فرمان داریم،

86
00:06:08,130 --> 00:06:10,690
ما به آن نیاز نداریم تا بتوانیم آن را حذف کنیم.

87
00:06:10,830 --> 00:06:12,330
اکنون برای نمای سبد خرید،

88
00:06:12,450 --> 00:06:21,250
بنابراین، عنوان صفحه را نیز اضافه می کنم و در آنجا، به سادگی سبد خرید شما را می گویم و فعلاً همین است.

89
00:06:21,250 --> 00:06:24,760
بعداً موارد سبد خرید را نیز اضافه یا بارگذاری خواهیم کرد

90
00:06:24,760 --> 00:06:26,940
اما بیایید فعلا روی آن تمرکز نکنیم.

91
00:06:27,780 --> 00:06:32,240
در آخر، بیایید صفحه پرداخت را با دریافت پرداخت بارگیری کنیم

92
00:06:32,320 --> 00:06:38,840
و در آنجا ما یک درخواست داریم، پاسخ و بعدی و در اینجا من نیز یک نمای ارائه می کنم،

93
00:06:38,970 --> 00:06:42,110
نمای اینجا تسویه حساب فروشگاه است

94
00:06:42,270 --> 00:06:48,270
و سپس باید برخی از داده ها را در جایی که مسیر را به /checkout تنظیم کردم و جایی که صفحه را نیز تنظیم کردم، ارسال کنیم

95
00:06:48,270 --> 00:06:53,430
عنوان تا پرداخت، به طوری که همه نماهای ما داده های مورد نیاز خود را دریافت کنند.

96
00:06:53,850 --> 00:06:54,930
حالا که خوب به نظر می رسد،

97
00:06:55,080 --> 00:07:01,860
اجازه دهید به فایل shop.js در پوشه routes برگردیم و در آنجا می توانیم از این مسیرهای جدید استفاده کنیم. برای

98
00:07:01,920 --> 00:07:02,930
مسیر گاری،

99
00:07:02,940 --> 00:07:10,970
ما می توانیم از shop controller get cart و برای پرداخت، می توانیم از shop controller get checkout استفاده کنیم، این دو

100
00:07:10,980 --> 00:07:14,810
توابع کنترلر جدیدی که ایجاد کردیم.

101
00:07:14,820 --> 00:07:19,470
اکنون تقریباً کار با کنترلرها و مسیرها، حداقل تنظیمات اولیه، تمام شده است.

102
00:07:19,650 --> 00:07:24,890
بیایید اکنون به admin.js برویم و در آنجا نیز یک مسیر داریم، محصولات،

103
00:07:24,890 --> 00:07:30,540
پس بیایید به admin.js در پوشه کنترلرها برویم و در آنجا یک مسیر جدید اضافه خواهم کرد.

104
00:07:30,540 --> 00:07:40,380
صادرات دریافت محصولات عملکرد میان‌افزار عادی من است و در اینجا اساساً می‌خواهم همان کار را انجام دهم

105
00:07:40,380 --> 00:07:43,260
انجام دهید دریافت محصولات در فروشگاه اینجا

106
00:07:43,290 --> 00:07:49,740
من به سادگی می خواهم همه محصولات را واکشی کنم و سپس نمای خود را ارائه دهم، بنابراین آن کد را کپی می کنم، به admin.js می روم

107
00:07:49,980 --> 00:07:51,730
و آن را در این مسیر قرار دهید،

108
00:07:51,830 --> 00:07:55,770
همه محصولات را واکشی کنید اما البته سپس نمای متفاوتی ارائه دهید،

109
00:07:55,800 --> 00:07:58,650
من می خواهم مدیر / محصولات را ارائه دهم،

110
00:07:58,650 --> 00:08:01,110
بنابراین این دیدگاه در اینجا باید ارائه شود.

111
00:08:01,170 --> 00:08:05,230
نام آن را نیز محصولات مدیریتی می گذارم

112
00:08:05,360 --> 00:08:13,160
و مسیر /admin/products خواهد بود تا آن را به درستی در مسیریابی علامت گذاری کنید. با همه

113
00:08:13,160 --> 00:08:13,730
آن تنظیم،

114
00:08:13,730 --> 00:08:19,240
اگر به عقب برگردیم و دوباره بارگذاری کنیم، صفحه سفیدی را می بینیم که نشانه خوبی است زیرا خطا نیست

115
00:08:19,430 --> 00:08:26,300
و ما یک صفحه سفید می بینیم زیرا در واقع برای اسلش هیچ چیزی که مسیری است که من در اینجا هستم، بارگذاری می کنیم

116
00:08:26,720 --> 00:08:30,170
یا get index را در shop controller اجرا می کنیم

117
00:08:30,170 --> 00:08:36,020
و این در واقع به ما نمایه فروشگاهی می دهد که اتفاقاً یک نمای ejs خالی است،

118
00:08:36,200 --> 00:08:37,860
بنابراین ما یک صفحه خالی می بینیم،

119
00:08:37,880 --> 00:08:39,150
معنا پیدا می کند.

120
00:08:39,260 --> 00:08:44,150
بیایید کد را از product list.ejs بگیریم و در index.ejs کپی کنیم

121
00:08:44,360 --> 00:08:51,770
و اگر آن را به حال خود رها کنیم و دوباره بارگذاری کنیم، اکنون فروشگاه را می بینیم و محصولات را می بینیم، همین طور است

122
00:08:51,770 --> 00:08:55,430
برای صفحه محصولات زیرا فعلاً همان کد را به اشتراک می گذارند،

123
00:08:55,760 --> 00:08:57,220
سبد خرید دوباره خالی است

124
00:08:58,350 --> 00:09:03,840
و بنابراین ما باید مقداری محتوا را نیز در آنجا اضافه کنیم، حداقل باید سر و ناوبری را در نظر بگیریم

125
00:09:03,840 --> 00:09:05,570
تا ما چیزی ببینیم،

126
00:09:05,590 --> 00:09:09,710
پس بیایید به cart.ejs برویم و شامل head را اضافه کنیم،

127
00:09:10,020 --> 00:09:12,430
ما در حال حاضر به product.css در اینجا نیاز نداریم،

128
00:09:12,510 --> 00:09:20,010
ما شروع به بدنه کردیم و سپس ناوبری را دریافت کردیم و سپس اجازه دهید به سادگی end.ejs را نیز اضافه کنیم

129
00:09:20,010 --> 00:09:22,030
ما یک سند html معتبر داریم.

130
00:09:22,850 --> 00:09:30,470
با اضافه شدن آن، اگر این مسیر را اینجا بارگذاری مجدد کنم، سبد خرید را نیز می بینیم که هیچ چیز روشنی ندارد، افزودن محصول همچنان باید کار کند

131
00:09:30,650 --> 00:09:34,930
و محصولات مدیریت کار نمی کنند، بیایید کد را از cart.ejs کپی کنیم

132
00:09:35,060 --> 00:09:41,120
و بیایید به محصولات در پوشه مدیریت، در پوشه views برویم، آن را در آنجا بچسبانیم تا ما در

133
00:09:41,120 --> 00:09:45,140
حداقل آن را ببینید و بنابراین اگر اکنون روی محصولات مدیریت کلیک کنم،

134
00:09:45,170 --> 00:09:50,990
به نظر می رسد سعی می کند صفحه 404 را رندر کند اما در آنجا خطایی دارد.

135
00:09:51,080 --> 00:09:52,540
حالا این یعنی دو چیز

136
00:09:52,580 --> 00:10:00,150
به نظر می رسد مسیر ما اشتباه است، در admin.js در پوشه routes، /products باید درست باشد،

137
00:10:00,170 --> 00:10:01,150
آره ولی

138
00:10:01,160 --> 00:10:06,640
من کنترلر مدیریتم را آنجا وصل نکردم، بنابراین باید در admin.js کنترلر مدیریت را برای دریافت محصولات اضافه کنیم.

139
00:10:06,640 --> 00:10:13,430
در پوشه routes و از طرفی صفحه 404 ما هم مشکل داشت چون آنجا بود

140
00:10:13,430 --> 00:10:16,340
می بینیم که مسیر مشخص نیست،

141
00:10:16,400 --> 00:10:24,610
بنابراین چیزی که من در اینجا از دست می دهم این است که برای کنترلر 404 من، کنترل کننده خطا به طور دقیق،

142
00:10:24,620 --> 00:10:31,070
من همچنین باید یک مسیر را در اینجا اضافه کنم زیرا سعی می کنم آن مسیر را در ناوبری خود استخراج کنم و بنابراین من

143
00:10:31,070 --> 00:10:35,330
همچنین باید مسیر را در اینجا تنظیم کنم و می توانم آن را به /404 تنظیم کنم،

144
00:10:35,390 --> 00:10:36,490
واقعا مهم نیست،

145
00:10:36,500 --> 00:10:37,890
فقط باید آنجا باشد

146
00:10:38,120 --> 00:10:40,700
بنابراین اکنون بارگذاری مجدد کار می کند زیرا این محصولات مدیریت است

147
00:10:40,760 --> 00:10:44,600
اما اکنون حتی یک مسیر ناشناخته دوباره کار خواهد کرد.

148
00:10:44,600 --> 00:10:45,890
بنابراین این به نظر خوب است،

149
00:10:45,890 --> 00:10:51,800
همچنین توجه داشته باشید که مورد فعال به درستی در ناوبری نمایش داده می شود و بنابراین ما یک محصول بزرگ ساخته ایم

150
00:10:51,800 --> 00:10:52,750
قدم به جلو،

151
00:10:52,790 --> 00:10:58,620
ما یکسری نماها، مسیرهای مناسب و اقدامات کنترلر را اضافه کردیم، حتی اگر آنها هنوز آنقدرها را انجام نداده باشند.

152
00:10:58,790 --> 00:11:02,900
حالا وقت آن است که کمی روی نماها کار کنید و کمی منطق از قبل اضافه کنید.
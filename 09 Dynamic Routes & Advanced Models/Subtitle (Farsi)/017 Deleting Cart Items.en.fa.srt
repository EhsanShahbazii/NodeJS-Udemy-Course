1
00:00:02,340 --> 00:00:08,330
بیایید مطمئن شویم که می توانیم موارد موجود در سبد خرید و برای این کار در cart.ejs را نیز حذف کنیم،

2
00:00:08,490 --> 00:00:12,020
من مورد لیست خود را کمی تغییر می دهم، در آنجا

3
00:00:12,050 --> 00:00:14,040
اول از همه یک div اضافه می کنم

4
00:00:14,220 --> 00:00:22,370
یا شاید بیایید یک پاراگراف اضافه کنیم تا از نظر معنایی صحیح تر باشد که متن این سبد خرید را خروجی می کند

5
00:00:22,370 --> 00:00:25,290
موارد، بنابراین چیزهایی مانند نام و کمیت

6
00:00:25,670 --> 00:00:28,190
و سپس یک دکمه کوچک نیز در آنجا اضافه خواهم کرد،

7
00:00:30,940 --> 00:00:36,060
در یک فرم پیچیده شده است. فرم باید به سبد خرید برود

8
00:00:36,060 --> 00:00:43,740
حذف آیتم ممکن است، روش یک روش پست باشد و البته به شکلی که من دکمه خود را با آن خواهم داشت

9
00:00:43,740 --> 00:00:53,120
یک کلاس از دکمه با یک نوع ارسال که می گوید حذف. اگر اکنون سبد خرید را اینجا بارگیری مجدد کنیم،

10
00:00:53,620 --> 00:00:58,660
می بینیم حذف این دکمه است، مطمئناً می توانیم روی یک ظاهر طراحی کار کنیم، اما در حال حاضر فقط می خواهم مطمئن شوم

11
00:00:58,660 --> 00:00:59,820
که کار می کند.

12
00:00:59,820 --> 00:01:01,310
حالا این دکمه حذف است

13
00:01:01,360 --> 00:01:05,740
و اگر روی آن کلیک کنم، البته باید این مورد را حذف کند.

14
00:01:05,740 --> 00:01:07,460
بنابراین سبد خرید حذف آیتم یک مسیر است

15
00:01:07,480 --> 00:01:11,920
اکنون باید اضافه کنیم و بنابراین بیایید به مسیرهای اینجا در shop.js برویم

16
00:01:11,940 --> 00:01:14,500
زیرا البته این یک اقدام مشتری است،

17
00:01:14,500 --> 00:01:18,450
مشتریان ما سبد خرید خود را در زیر سبد خرید مدیریت خواهند کرد

18
00:01:18,460 --> 00:01:21,800
من یک روش پست روتر، سبد خرید اضافه می کنم

19
00:01:21,810 --> 00:01:23,420
حذف آیتم.

20
00:01:23,420 --> 00:01:26,810
اکنون به یک عمل مناسب در کنترلر نیاز داریم،

21
00:01:26,810 --> 00:01:32,420
بنابراین در یک کنترلر مغازه اینجا و آنجا سبد خرید و سبد خرید گرفتم،

22
00:01:32,490 --> 00:01:41,720
در حال حاضر من همچنین صادرات پست سبد خرید محصول حذف ممکن است، شما البته می توانید از هر نامی که می خواهید استفاده کنید

23
00:01:42,690 --> 00:01:48,350
و در اینجا ما باید آن محصول را از سبد خرید حذف کنیم، اما فقط از سبد خرید، نه محصول را

24
00:01:48,350 --> 00:01:49,360
خود

25
00:01:49,850 --> 00:01:57,230
خوب برای انجام این کار، اجازه دهید ابتدا شناسه محصول را از شناسه محصول بدنه درخواست استخراج کنیم و بنابراین

26
00:01:57,230 --> 00:02:00,650
ما باید مطمئن شویم که آن را نیز از آنجا عبور می دهیم،

27
00:02:00,860 --> 00:02:13,760
بنابراین در فرم خود اجازه دهید دوباره این ورودی پنهان را با مقدار p data.ID محصول خود اضافه کنیم و سپس

28
00:02:13,760 --> 00:02:19,210
یک نام شناسه محصول تا بتوانیم آن را با آن نام در باطن خود استخراج کنیم.

29
00:02:21,080 --> 00:02:27,630
و با اضافه شدن آن، با اضافه شدن این ورودی پنهان در اینجا، اجازه دهید به کنترلر و با آن برگردیم

30
00:02:27,630 --> 00:02:35,430
آن شناسه اجازه می دهد به سبد خرید دسترسی پیدا کنیم و سپس در آنجا، می توانیم یک محصول را درست حذف کنیم. حالا که عملکرد محصول را حذف کنید

31
00:02:35,430 --> 00:02:38,330
شناسه محصول را می گیرد و ما آن را داریم

32
00:02:38,550 --> 00:02:43,540
اما قیمت را نیز می‌گیرد و بنابراین، ابتدا باید اطلاعات آن محصول را دریافت کنیم.

33
00:02:43,740 --> 00:02:52,080
پس بیایید در اینجا محصول Find by ID را نیز فراخوانی کنیم و آن محصول را برای این شناسه دریافت کنیم و یک تماس با بازیابی شده اضافه کنیم.

34
00:02:52,380 --> 00:02:58,550
محصول، به سادگی به این ترتیب که قبل از صدور درخواست حذف، بتوانیم قیمت را دریافت کنیم.

35
00:02:58,950 --> 00:03:05,630
بنابراین، در این callback با حذف محصول تماس می‌گیرم و اکنون می‌توانم قیمت محصول را نیز ارسال کنم

36
00:03:05,790 --> 00:03:09,830
و البته می‌توانستیم از یک ورودی مخفی نیز برای انتقال قیمت به باطن استفاده کنیم

37
00:03:09,870 --> 00:03:11,770
اما من فکر می کنم این رویکرد پاک تر است،

38
00:03:11,850 --> 00:03:18,610
اگر فقط شناسه را از طریق درخواست ارسال کنیم و سپس همه بازیابی اطلاعات را در backend در گره خود انجام دهیم

39
00:03:18,630 --> 00:03:19,920
کد اکسپرس

40
00:03:20,370 --> 00:03:22,650
بنابراین اکنون محصول حذف را دریافت می کنیم

41
00:03:22,650 --> 00:03:31,220
و با آن ما همچنین می توانیم یک درخواست تغییر مسیر را به سبد خرید ارسال کنیم و از نظر تئوری، این تنها چیزی است که ما نیاز داریم.

42
00:03:31,260 --> 00:03:35,280
در حال حاضر البته چیزی که از دست رفته این است که ما سبد خرید خود را حذف می کنیم

43
00:03:35,300 --> 00:03:42,450
مسیر آیتم به اکشن کنترلر فروشگاه تازه ایجاد شده، اقدام حذف محصول سبد خرید پست. و با آن

44
00:03:42,450 --> 00:03:50,070
در فایل shop.js در پوشه مسیرها اضافه شده است، می توانیم صفحه سبد خرید خود را در اینجا بارگیری مجدد کنیم.

45
00:03:50,280 --> 00:03:53,850
روی حذف کلیک کنید و ما محصولات خود را می بینیم و

46
00:03:53,940 --> 00:03:56,640
به هر حال شما می توانید این خطاها را در سمت راست نادیده بگیرید،

47
00:03:56,680 --> 00:03:59,350
اینها به شبکه محلی من در اینجا مربوط می شوند.

48
00:03:59,580 --> 00:04:01,670
بنابراین اکنون هیچ محصولی در چرخ دستی‌ها ندارم

49
00:04:01,830 --> 00:04:08,240
و اگر نگاهی به cart.json خود بیندازیم واقعاً خالی است، product.json هنوز محصولات را دارد.

50
00:04:08,680 --> 00:04:14,500
و اگر به سرعت محصول دیگری را بدون تصویر واقعی اضافه کنم، مانند این

51
00:04:14,610 --> 00:04:19,650
به طوری که من بیش از یکی دارم و هر دو را به سبد خریدم اضافه می کنم

52
00:04:22,950 --> 00:04:27,310
و من فقط یک کتاب را در اینجا حذف می کنم، فقط آن کتاب حذف می شود، همچنین در carts.json.

53
00:04:27,330 --> 00:04:30,930
بنابراین به نظر می رسد که این به خوبی کار می کند،

54
00:04:30,930 --> 00:04:32,520
بیایید این یکی را هم اکنون حذف کنیم،

55
00:04:33,740 --> 00:04:40,160
به نظر می رسد خوب کار می کند و با آن، ما برنامه خود را بسیار بهبود بخشیم و امیدواریم که شما کمی احساس کنید

56
00:04:40,160 --> 00:04:46,880
برای اینکه چگونه می توانید داده ها را منتقل کنید و چگونه می توانید با مدل های خود کار کنید. حالا شما به درستی این را می گویید

57
00:04:46,880 --> 00:04:47,240
البته

58
00:04:47,240 --> 00:04:53,100
رویکرد فعلی ما در اینجا در ماژول ها کمی نابهینه است زیرا کار با فایل و غیره،

59
00:04:53,150 --> 00:04:54,320
آنقدرها هم عالی نیست،

60
00:04:54,380 --> 00:05:01,070
ما همچنین می توانیم برخی از چیزها را در کنترلرها بهبود دهیم زیرا به عنوان مثال همانطور که گفتم باید if را تغییر مسیر دهیم

61
00:05:01,070 --> 00:05:05,360
ما می دانیم که حذف با موفقیت انجام شد و نه درست بعد از این خط

62
00:05:05,360 --> 00:05:10,040
زیرا از آنجایی که ما به یک فایل در آنجا دسترسی داریم، از لحاظ نظری باید از یک callback در اینجا نیز استفاده کنیم.

63
00:05:10,250 --> 00:05:17,270
اما اینها همه کارهایی هستند که وقتی بالاخره پایگاه داده را نیز اضافه کردیم، انجام خواهم داد، کاری که در آن انجام خواهیم داد

64
00:05:17,270 --> 00:05:18,880
ماژول بعدی اکنون

65
00:05:18,890 --> 00:05:22,770
بنابراین وقت آن است که به این بلوک بزرگ هیجان انگیز دوره بروید.
1
00:00:02,210 --> 00:00:08,340
Handlebars از طرح‌بندی‌ها پشتیبانی می‌کند، اما عملکرد آن کمی متفاوت از Pug است.

2
00:00:08,440 --> 00:00:14,770
اول از همه باید چیزی را پیکربندی کنیم، در app.js جایی که موتور فرمان خود را ثبت می کنیم، ما

3
00:00:14,770 --> 00:00:16,570
باید در برخی از گزینه ها عبور کرد.

4
00:00:16,630 --> 00:00:21,440
حالا IDE من در اینجا به من کمک می کند، اگر فضای کنترل را بزنم به من نشان می دهد که کدام گزینه را می توانم تنظیم کنم

5
00:00:21,610 --> 00:00:26,650
و البته می توانید اسناد رسمی را بررسی کنید تا همه چیز را در مورد آنها بیاموزید. حالا چه اجازه ای به من می دهد

6
00:00:26,650 --> 00:00:33,790
اینجاست که به شما امکان می‌دهد مکان‌هایی را که طرح‌بندی‌های من زندگی می‌کنند تنظیم کنید، بنابراین در کدام پوشه می‌توانم طرح‌بندی‌های خود را پیدا کنم.

7
00:00:33,930 --> 00:00:40,560
بیایید این را در اینجا روی یک رشته تنظیم کنیم که به طور پیش‌فرض طرح‌بندی views است، بنابراین نیازی به تنظیم آن ندارید.

8
00:00:40,560 --> 00:00:44,710
می توان آن را به نوعی تنظیم کرد تا دوباره این مورد را تأیید کند، اما این کار اضافی است،

9
00:00:44,760 --> 00:00:50,490
فقط در صورتی باید آن را تنظیم کنید که می‌خواهید آن را در جای دیگری ذخیره کنید، مثلاً در lays یا اگر دیگری داشتید

10
00:00:50,490 --> 00:00:57,390
پوشه views پیش فرض من آن را روی این تنظیم می‌کنم، حتی اگر پیش‌فرض آن باشد تا آن تنظیم را ببینید،

11
00:00:57,390 --> 00:01:01,860
اکنون می توانید یک طرح بندی پیش فرض را نیز تعریف کنید که باید برای همه فایل ها استفاده شود

12
00:01:01,980 --> 00:01:07,040
و در اینجا من فقط آن را main می نامم و این بدان معنی است که شما باید یک طرح اصلی یا اصلی داشته باشید

13
00:01:07,040 --> 00:01:12,050
در مورد من، شما باید یک فایل main-layout.hbs در پوشه layouts خود داشته باشید.

14
00:01:12,060 --> 00:01:13,930
پس بیایید یک main-layout.hbs اضافه کنیم

15
00:01:13,980 --> 00:01:20,880
فایل را در پوشه layouts قرار دهید و بیایید آن را به طور مشابه با طرح pug تنظیم کنیم و البته این بود

16
00:01:21,300 --> 00:01:28,680
تحت تأثیر صفحه 404. پس بیایید کد html 404 را در کد main-layout.hbs کپی کنیم

17
00:01:29,010 --> 00:01:31,240
و اول از همه صفحه پیدا نشد

18
00:01:31,290 --> 00:01:39,640
البته ما می‌خواهیم این را به صورت پویا در اینجا خروجی بگیریم، عنوان صفحه را در اینجا با کنترل‌کننده‌های فرمان خروجی می‌دهیم.

19
00:01:39,660 --> 00:01:46,830
اکنون در مورد استایل، در pug بلوکی را تعریف کردیم که در آن می‌توانیم محتوای آن را به صورت پویا اضافه کنیم

20
00:01:46,830 --> 00:01:51,700
باید از داخل نمایی که این چیدمان را گسترش داده است، ارائه شود.

21
00:01:52,050 --> 00:01:58,750
متأسفانه hbs چنین ویژگی ندارد، بنابراین ما نمی توانیم این کار را انجام دهیم، نمی توانیم بلوکی را در اینجا تعریف کنیم.

22
00:01:58,830 --> 00:02:06,800
در عوض تنها کاری که می‌توانیم انجام دهیم این است که می‌توانیم یک مکان نگهدار با سه بریس مجعد تعریف کنیم،

23
00:02:06,810 --> 00:02:13,660
باز و بسته شدن، بنابراین نه بریس های معمولی دوبل، بلکه سه بریس مجعد و سپس اضافه کردن بدنه در اینجا

24
00:02:13,800 --> 00:02:16,740
و شما باید دقیقا از این مکان نگهدار استفاده کنید.

25
00:02:16,770 --> 00:02:22,340
این را میله‌های فرمان درک می‌کنند و سپس می‌توانید آن را در نماهایی که گسترش می‌دهند، هدف قرار دهید

26
00:02:22,420 --> 00:02:26,610
طرح‌بندی به‌طور خودکار، زیرا آن را به‌عنوان طرح‌بندی پیش‌فرض تنظیم کرده‌اید.

27
00:02:26,610 --> 00:02:34,050
با این حال، اگر بخشی مانند این دارید که در آن باید بسته به صفحه مورد نظر خود، سبکی اضافه کنید

28
00:02:34,050 --> 00:02:40,690
روشن هستند، شما باید این را به گونه ای متفاوت حل کنید، در نوعی رویکرد مشابه همانطور که ما فعال را حل کردیم

29
00:02:40,730 --> 00:02:43,000
کلاس اینجا در پاگ،

30
00:02:43,050 --> 00:02:45,130
شما باید یک عبارت if را در اینجا اضافه کنید

31
00:02:45,280 --> 00:02:51,810
چیدمان اصلی شما و البته این روش کمی دست و پا گیرتر یا پیچیده تر است، اگرچه می توانید این کار را انجام دهید

32
00:02:51,810 --> 00:02:53,000
بیشتر با فرمان،

33
00:02:53,100 --> 00:02:56,190
شما می توانید کمک کننده های سفارشی را تعریف کنید که در این زمینه به شما کمک می کنند

34
00:02:56,250 --> 00:03:00,660
اما این فراتر از محدوده این دوره است که من فقط می خواهم یک مقدمه کوتاه به شما ارائه دهم،

35
00:03:00,750 --> 00:03:06,900
بنابراین اجازه دهید ساده ترین راه حل این را به شما نشان دهم و این این است که یک بلوک if را در اینجا اضافه می کنیم و بررسی می کنیم

36
00:03:07,020 --> 00:03:14,750
اگر product.css و اگر اینطور است، دستور if را نیز در اینجا ببندیم،

37
00:03:14,860 --> 00:03:16,750
سپس یک لینک اضافه خواهم کرد

38
00:03:19,330 --> 00:03:23,290
به فایل product.css من

39
00:03:23,470 --> 00:03:27,620
و من همان منطق را البته برای فرم ها تکرار می کنم

40
00:03:27,640 --> 00:03:31,420
و دوباره همانطور که گفتم، این راه حل آسان است اما فعلا انجام خواهد شد.

41
00:03:31,480 --> 00:03:35,520
بنابراین فرم ها و در اینجا ما forms.css را داریم.

42
00:03:35,740 --> 00:03:37,290
بنابراین این اکنون کار می کند،

43
00:03:37,300 --> 00:03:42,390
حالا در مورد کلاس فعال، ما همچنین می خواهیم آن را به صورت پویا اضافه کنیم، درست است؟

44
00:03:43,300 --> 00:03:45,910
خوب دوباره می توانیم به سادگی کلاس را در اینجا اضافه کنیم

45
00:03:46,240 --> 00:03:54,180
و من کنترل کننده های فرمان خود را اینجا اضافه می کنم و یک عبارت if اضافه می کنم و بررسی می کنم که آیا فروشگاه فعال درست است یا خیر

46
00:03:54,270 --> 00:03:57,090
و این متغیری است که ما باید به این دیدگاه منتقل کنیم،

47
00:03:57,950 --> 00:04:00,040
اگر درست باشد، کلاس فعال را اضافه می کنم

48
00:04:00,050 --> 00:04:04,420
و البته نزدیک نیز ممکن است بیانیه ای داشته باشد تا بتواند این را به صورت خطی بنویسد،

49
00:04:04,430 --> 00:04:06,010
این یک برداشت مهم است

50
00:04:06,410 --> 00:04:13,970
و من همین کار را برای مسیر افزودن محصول در اینجا انجام می دهم، جایی که بررسی می کنم آیا محصول افزودنی فعال درست است یا خیر.

51
00:04:14,150 --> 00:04:20,330
البته ما باید مطمئن شویم که این متغیرها حداقل زمانی که هستند به view منتقل می شوند

52
00:04:20,330 --> 00:04:20,830
مورد نیاز،

53
00:04:20,870 --> 00:04:23,730
اگر از آنها عبور نکنید، همیشه به عنوان نادرست تلقی می شوند،

54
00:04:23,750 --> 00:04:27,910
بنابراین شما فقط باید آنها را پاس کنید اگر می خواهید آنها را به عنوان درست تلقی کنند.

55
00:04:28,970 --> 00:04:31,340
با آن، طرح ما آماده می شود،

56
00:04:31,340 --> 00:04:37,040
حالا بیایید به فایل shop.js برگردیم تا با آن شروع کنیم و همانطور که قبلاً اشاره کردم، اکنون داریم

57
00:04:37,040 --> 00:04:44,850
برای ارسال در Active shop، این متغیر یا این ویژگی است که ما در اینجا در دستور if آن را بررسی می کنیم

58
00:04:45,100 --> 00:04:50,910
و باید این را برای این مسیر روی true قرار دهیم تا اطمینان حاصل کنیم که برای این مسیر، کلاس فعال اضافه شده است.

59
00:04:51,050 --> 00:04:56,420
بنابراین بیایید این را روی true قرار دهیم و بنابراین در طرح اصلی، این true و در نتیجه اراده فعال خواهد بود

60
00:04:56,420 --> 00:05:01,400
رندر شود، محصول افزودن فعال نادرست است زیرا ما اصلاً آن را پاس نمی کنیم و بنابراین این کار را انجام می دهد

61
00:05:01,400 --> 00:05:02,870
ارائه نشود.

62
00:05:02,990 --> 00:05:03,920
پس این است که

63
00:05:03,950 --> 00:05:07,250
اکنون البته ما همچنین باید مطمئن شویم که product.css رندر می شود،

64
00:05:07,310 --> 00:05:09,320
بنابراین ما باید در این نیز بگذریم.

65
00:05:09,450 --> 00:05:10,810
بنابراین به shop.js بازگشت،

66
00:05:10,850 --> 00:05:14,730
اجازه دهید محصول.css را نیز ارسال کنیم و این را روی true قرار دهیم،

67
00:05:14,900 --> 00:05:20,300
بنابراین شما می توانید از قبل بگویید، هنگام استفاده از دسته ها، مقدار زیادی را از داخل node express پیکربندی می کنید

68
00:05:20,360 --> 00:05:22,090
فلسفه آن است.

69
00:05:22,460 --> 00:05:29,400
بنابراین اکنون با آن تنظیم، می‌توانیم به طرح‌بندی برگردیم، آن را تمام کنیم و به shop.hbs برویم.

70
00:05:29,570 --> 00:05:31,870
اکنون این از طرح به طور پیش فرض استفاده می کند،

71
00:05:31,970 --> 00:05:38,330
می‌توانید با رفتن به تابع رندر برای یک صفحه مشخص و تنظیم یک طرح‌بندی خاص، آن را غیرفعال کنید

72
00:05:38,330 --> 00:05:40,060
کلید و تنظیم آن روی false،

73
00:05:40,070 --> 00:05:45,770
این یک کلید ویژه است که توسط فرمان قابل درک است و از طرح بندی پیش فرض استفاده نمی کند.

74
00:05:45,770 --> 00:05:47,040
در غیر این صورت خواهد شد.

75
00:05:47,300 --> 00:05:53,630
بنابراین از آنجایی که به طور پیش فرض این کار را انجام می دهد، در shop.hbs می توانیم از شر کل این کد در اینجا خلاص شویم.

76
00:05:53,870 --> 00:05:55,020
از جمله سربرگ

77
00:05:55,460 --> 00:06:05,700
و فقط در این فایل آنچه را که باید به تگ بدنه بریس مجعد سه گانه ما در اصل تزریق شود داشته باشید

78
00:06:05,700 --> 00:06:06,310
چیدمان،

79
00:06:06,370 --> 00:06:14,040
بنابراین در اینجا، هر چیزی که باید در این مکان وارد شود باید به shop.hbs اضافه شود و هیچ چیز دیگری.

80
00:06:14,080 --> 00:06:21,520
بنابراین اگر این را ذخیره کنیم و به فروشگاه برویم، خواهید دید که با خطا مواجه می شویم و خطا کمی آزاردهنده است.

81
00:06:21,520 --> 00:06:27,220
برای صادق بودن در مورد فرمان های اکسپرس، به دنبال فایل اصلی layout.handlebars است.

82
00:06:27,400 --> 00:06:30,600
بنابراین اینجا .hbs را نمی گیرد

83
00:06:30,880 --> 00:06:38,140
و به هر دلیلی، شما باید صریحاً به دسته‌های فرمان بگویید که این کار را متفاوت انجام دهند. باید بروی

84
00:06:38,140 --> 00:06:45,730
به گزینه‌ها بروید و نام پسوندی را تنظیم کنید که فقط برای طرح‌بندی اعمال می‌شود و نه برای همه فایل‌ها، فقط

85
00:06:45,730 --> 00:06:52,310
از آنجایی که این برای همه فایل‌ها به جز طرح‌بندی صدق می‌کند، باید نام extname را در اینجا تنظیم کنید

86
00:06:52,930 --> 00:06:58,030
به hbs این واقعاً عجیب است، اما نحوه عملکرد فرمان اکسپرس،

87
00:06:58,030 --> 00:07:02,740
بنابراین اکنون ما افزونه را برای طرح‌بندی‌ها نیز روی hbs تنظیم می‌کنیم

88
00:07:03,070 --> 00:07:10,360
و حالا اگر این صفحه را دوباره بارگذاری کنیم، صفحه فروشگاه عادی خود را می بینیم. و با آن ما البته می توانیم به

89
00:07:10,360 --> 00:07:17,800
محصول را اضافه کنید، در اینجا add-product.hbs، همه چیز را حذف کنید به جز بخشی که باید در آن مکان رندر شود

90
00:07:17,890 --> 00:07:22,940
از بدن ما، برچسب های بدن پرانتزی مجعد سه گانه.

91
00:07:23,030 --> 00:07:27,350
و اگر دوباره بارگذاری کنیم، چیزی درست از دست رفته است،

92
00:07:27,470 --> 00:07:29,100
آیا می دانید چه اشتباهی رخ داده است؟

93
00:07:29,970 --> 00:07:36,150
خوب ما برخی از سبک ها را از دست داده ایم و دلیل آن این است که ما به فرم ها نیاز داریم و برای این،

94
00:07:36,180 --> 00:07:39,630
ما باید اطمینان حاصل کنیم که css فرم ها روی true تنظیم شده است،

95
00:07:39,630 --> 00:07:43,040
ما همچنین به css محصول نیاز خواهیم داشت. بنابراین در admin.js،

96
00:07:43,070 --> 00:07:52,920
باید اطمینان حاصل کنیم که وقتی این مسیر را رندر می‌کنیم، فرم‌های css را روی true و product.css قرار می‌دهیم.

97
00:07:52,930 --> 00:08:01,400
این یکی، product.css به درست است و ما همچنین برای دریافت آن لینک فعال در ناوبری، که ما

98
00:08:01,400 --> 00:08:11,390
همچنین محصول افزودن فعال را روی true تنظیم کنید زیرا محصول افزودن فعال کلیدی است که در اینجا به دنبال آن هستیم.

99
00:08:11,570 --> 00:08:14,270
با این کار، اگر همه فایل‌ها را ذخیره کنیم و اینجا را دوباره بارگذاری کنیم،

100
00:08:14,550 --> 00:08:15,720
این بهتر به نظر می رسد

101
00:08:15,800 --> 00:08:19,370
و اکنون همه چیز دوباره با فرمان کار می کند.

102
00:08:19,370 --> 00:08:22,740
بنابراین همانطور که می بینید، فرمان از فلسفه متفاوتی استفاده می کند.

103
00:08:22,850 --> 00:08:25,400
قطعا چیزی که باید به آن عادت کنید،

104
00:08:25,410 --> 00:08:30,800
بنابراین قالب های شما نازک تر هستند. و هیچ راه بهتر یا بدتری برای انجام این کار وجود ندارد،

105
00:08:30,800 --> 00:08:33,500
واقعاً بستگی به شما دارد که کدام یک را ترجیح می دهید.

106
00:08:33,710 --> 00:08:38,540
بیایید اکنون به گزینه سوم، ejs که مورد علاقه شخصی من است نگاهی بیندازیم.
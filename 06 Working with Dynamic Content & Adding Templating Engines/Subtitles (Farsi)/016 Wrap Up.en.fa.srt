1
00:00:02,120 --> 00:00:05,060
پس وقت آن است که خلاصه ای سریع و پاکسازی کنیم،

2
00:00:05,060 --> 00:00:08,470
اول از همه بیایید تمیز کنیم از آنجایی که ما اکنون از ejs استفاده می کنیم،

3
00:00:08,480 --> 00:00:12,710
ما به پوشه layouts نیازی نداریم زیرا فقط از آن برای میناکاری و فرمان استفاده می کنیم.

4
00:00:12,710 --> 00:00:14,800
پس بیایید طرح‌بندی‌ها را در اینجا حذف کنیم.

5
00:00:15,080 --> 00:00:21,410
ما همچنین می‌توانیم تمام فایل‌های hbs، html و pug را در اینجا حذف کنیم، زیرا به هیچ یک از آنها نیاز نداریم.

6
00:00:21,410 --> 00:00:23,030
ما فقط از فایل های ejs استفاده می کنیم

7
00:00:23,030 --> 00:00:25,510
حالا، پس بیایید همه این فایل ها را حذف کنیم.

8
00:00:25,550 --> 00:00:31,190
اکنون این بسیار تمیزتر است و اکنون فقط می خواهم مطمئن شوم که شما واقعاً جریان چگونگی را درک کرده اید

9
00:00:31,190 --> 00:00:35,420
داده ها در قالب ها جریان می یابد و موتورهای قالب سازی چه می کنند.

10
00:00:35,450 --> 00:00:43,100
ما یک الگو را با روش رندر ویژه ارائه شده توسط expressjs رندر می کنیم، که متد رندر این کار را انجام می دهد

11
00:00:43,130 --> 00:00:50,210
همیشه به دنبال موتور مشاهده ثبت‌شده بگردید، کاری که در اینجا در ابتدا در app.js انجام می‌دهیم. ما ثبت نام می کنیم

12
00:00:50,570 --> 00:00:52,290
موتور مشاهده ejs ما

13
00:00:52,370 --> 00:00:59,420
در این مورد با تنظیم این پیکربندی موتور نمای ویژه، یک کلید پیکربندی رزرو شده است که درک می شود

14
00:00:59,420 --> 00:01:00,870
توسط expressjs

15
00:01:00,980 --> 00:01:06,800
ما همچنین به expressjs می‌گوییم که دیدگاه‌های ما در کجا باید یافت شوند، هرچند که در واقع پیش‌فرض خواهد بود

16
00:01:06,800 --> 00:01:07,900
اتفاقاً در اینجا تنظیم می شود،

17
00:01:07,940 --> 00:01:13,890
بنابراین اگر از پوشه views استفاده می کنید، نیازی به اضافه کردن آن ندارید. با آن، expressjs

18
00:01:13,900 --> 00:01:14,550
.

19
00:01:14,660 --> 00:01:21,710
رندر خواهد شد، موتور قالب ما را که هنوز باید جداگانه نصب کنیم به عنوان npm می گیرد

20
00:01:21,710 --> 00:01:22,220
بسته بندی

21
00:01:22,220 --> 00:01:23,160
این را در نظر داشته باشید،

22
00:01:23,180 --> 00:01:31,730
ما ejs را نصب کردیم همانطور که pug و handlebars را نصب کردیم و سپس شما همیشه فقط به نام آن اشاره می کنید

23
00:01:31,730 --> 00:01:35,670
از نظر شما، مانند ما اینجا، add-product.ejs،

24
00:01:35,780 --> 00:01:41,790
به هر حال، اگر در یک زیرپوشه، مانند محصولات بود، به سادگی به این شکل به آن اشاره می کرد.

25
00:01:41,980 --> 00:01:47,920
اما پس از آن شما فقط بدون افزودن پسوند فایل به آن نما مراجعه کنید و همچنین می توانید یک را تعریف کنید

26
00:01:47,920 --> 00:01:55,240
شی ای که داده هایی را که به عنوان متغیر به آن الگو ارسال می شود، نگه می دارد،

27
00:01:55,240 --> 00:02:00,940
بنابراین همانطور که یاد گرفتید کل شی در آنجا ارسال نمی شود، اما در عوض، یک متغیر عنوان صفحه خواهید داشت

28
00:02:00,990 --> 00:02:02,990
موجود در قالب،

29
00:02:03,040 --> 00:02:07,810
شما یک متغیر مسیر در قالب و غیره در دسترس خواهید داشت

30
00:02:07,960 --> 00:02:13,090
و به همین دلیل است که می توانیم از چیزی شبیه به این در اینجا استفاده کنیم. این اکنون نحو است

31
00:02:13,120 --> 00:02:18,150
توسط موتور قالب خاصی که ما استفاده می کنیم، ejs در این مورد قابل درک است.

32
00:02:18,160 --> 00:02:25,480
به سادگی این تگ ها را در اینجا شناسایی می کند و سپس به سادگی به دنبال متغیری با نام عنوان صفحه می گردد و تلاش می کند

33
00:02:25,480 --> 00:02:29,060
برای خروجی مقدار آن، خوب و عنوان صفحه را پیدا می کند

34
00:02:29,110 --> 00:02:36,370
زیرا ما یک ویژگی عنوان صفحه را در اینجا تنظیم می کنیم. و ما ویژگی های بیشتری نسبت به خروجی مقادیر دریافت کردیم،

35
00:02:36,540 --> 00:02:42,480
همانطور که در فایل shop.ejs می بینید، ما همچنین می توانیم از دستورات if یا حلقه های for استفاده کنیم و شما

36
00:02:42,600 --> 00:02:47,630
نسخه های مختلف این برای موتورهای دید متفاوت در این ماژول.

37
00:02:47,640 --> 00:02:51,870
بنابراین موتورهای قالب‌بندی چگونه کار می‌کنند، چه کار می‌کنند و چرا از آنها استفاده می‌کنید

38
00:02:52,020 --> 00:02:58,470
و مهم است که به خاطر داشته باشید که در نهایت اگر کد منبع را بررسی کنید، همیشه فقط دریافت می کنید

39
00:02:58,470 --> 00:02:59,550
برگشت به حالت عادی

40
00:02:59,590 --> 00:03:05,820
کد html، هیچ کد ejs یا کد جاوا اسکریپت را در اینجا پیدا نمی کنید.

41
00:03:06,000 --> 00:03:15,300
این فقط کد html است که در پرواز و همچنین در سرور تولید می شود. این کد نیست

42
00:03:15,480 --> 00:03:17,680
که در مرورگر ایجاد می شود،

43
00:03:17,790 --> 00:03:24,630
بر اساس درخواستی که دریافت می کنید، روی سرور ایجاد می شود. و موتورهای قالب‌بندی نیز برخی کارها را انجام می‌دهند

44
00:03:24,630 --> 00:03:32,040
موارد پیشرفته مانند ذخیره برخی از الگوهای ساخته شده برای شما در صورتی که ورودی داده ها تغییر نکردند، به طوری که آنها

45
00:03:32,040 --> 00:03:38,340
می تواند الگو را حتی سریعتر بازگرداند و نیازی به بازسازی آن برای هر درخواست حتی اگر داده باشد، نیست

46
00:03:38,370 --> 00:03:41,120
تغییر نکرد اما اینکه بعضی چیزهای پشت صحنه،

47
00:03:41,220 --> 00:03:44,420
برای شما مهم است که جریان کلی را درک کنید.
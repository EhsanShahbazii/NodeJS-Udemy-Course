1
00:00:02,250 --> 00:00:04,430
اکنون برنامه در حال شکل گیری است،

2
00:00:04,440 --> 00:00:08,800
اکنون دو چیز وجود دارد که می‌خواهم قبل از اتمام کار به این ماژول اضافه کنم.

3
00:00:08,880 --> 00:00:14,670
اولین مورد این است که می‌خواهم مطمئن شوم که می‌توانیم محصولات را نیز حذف کنیم و می‌خواهم مطمئن شوم که ما نیز می‌توانیم آن را حذف کنیم

4
00:00:14,670 --> 00:00:20,780
همچنین می توانید اقلام سبد خرید ما را در نمای سبد خرید ببینید و همچنین آنها را از سبد خرید حذف کنید.

5
00:00:20,790 --> 00:00:26,300
بیایید ابتدا روی حذف محصولات اینجا کار کنیم و مطمئناً این کار را خودتان امتحان کنید.

6
00:00:26,310 --> 00:00:34,920
شما باید یک روش جدید را در جایی اضافه کنید و اساساً مطمئن شوید که نمی توانید فقط محصولات را ذخیره کنید

7
00:00:34,920 --> 00:00:36,970
در مدل محصول بلکه آنها را حذف کنید

8
00:00:37,080 --> 00:00:42,090
اما مطمئناً پس از یک مکث کوتاه این کار را با هم انجام خواهیم داد که می توانید از آن برای توقف موقت ویدیو و رفتن استفاده کنید.

9
00:00:42,090 --> 00:00:43,270
پیش خودت

10
00:00:45,460 --> 00:00:46,530
موفق بودی؟

11
00:00:46,690 --> 00:00:49,660
خوب بیایید ببینیم چگونه این را حل می کنم.

12
00:00:49,660 --> 00:00:52,290
ما می خواهیم بتوانیم محصولات خود را به درستی حذف کنیم

13
00:00:52,540 --> 00:00:58,960
و اگر به فایل products.ejs برویم، این نمای در پوشه مدیریت، از قبل آن حذف را داریم

14
00:00:58,960 --> 00:01:04,420
دکمه ای که عمداً در فرمی پیچیده شده است تا درخواست پست برای حذف محصول ارسال شود،

15
00:01:04,420 --> 00:01:05,730
بنابراین ما باید آن مسیر را مدیریت کنیم،

16
00:01:05,770 --> 00:01:07,750
که نقطه شروع خوبی است.

17
00:01:07,810 --> 00:01:16,930
بنابراین در فایل admin.js در پوشه routes، ما به یک مسیر جدید برای این کار نیاز داریم، post route برای حذف محصول.

18
00:01:16,930 --> 00:01:24,580
اکنون از آنجایی که این یک درخواست پست است، ما نیز نیازی به ضمیمه کردن یا رمزگذاری اطلاعات در خود نداریم

19
00:01:24,580 --> 00:01:25,940
مسیر در url،

20
00:01:26,110 --> 00:01:29,180
ما می توانیم آن را به عنوان بخشی از بدن درخواست خود قرار دهیم.

21
00:01:29,390 --> 00:01:36,880
بنابراین دوباره در نمای، در اینجا من یک ورودی پنهان را دوباره اضافه می کنم، همانطور که قبلاً در درخواست های پست انجام دادیم.

22
00:01:36,880 --> 00:01:46,930
مقدار را روی شناسه محصول با استفاده از نحو قالب ejs و نام را به شناسه محصول تنظیم کنید تا بتوانیم

23
00:01:46,930 --> 00:01:50,630
آن اطلاعات را با آن نام استخراج کنید.

24
00:01:50,720 --> 00:01:52,220
پس این اولین قدم است،

25
00:01:52,220 --> 00:01:54,160
اکنون ما آن مسیر را داریم،

26
00:01:54,260 --> 00:01:57,500
بدیهی است که ما هم اکنون باید روی کنترلر کار کنیم.

27
00:01:57,930 --> 00:02:04,040
پس بیایید به کنترل کننده، کنترل کننده مدیریت و بیایید یک اقدام جدید برای حذف یک محصول، صادرات اضافه کنیم.

28
00:02:04,850 --> 00:02:07,310
پست حذف محصول

29
00:02:09,920 --> 00:02:13,660
در آنجا من آرگومان های عادی خود را در این تابع دریافت می کنم

30
00:02:13,790 --> 00:02:16,170
و حالا سوال این است که من می خواهم در آنجا چه کار کنم؟

31
00:02:16,430 --> 00:02:21,930
خب بدیهی است که می توانم با دسترسی به شناسه محصول، شناسه محصول را از بدنه درخواست استخراج کنم،

32
00:02:22,040 --> 00:02:25,630
به همین دلیل است که ما آن را به قالب ejs خود اضافه کردیم

33
00:02:25,910 --> 00:02:31,790
و اکنون می توانیم به فایل routes برگردیم و به سادگی این مسیر را به کنترلر مدیریت خود وصل کنیم

34
00:02:31,820 --> 00:02:34,480
اقدام پست حذف محصول

35
00:02:34,550 --> 00:02:38,610
اما جادوی واقعی اکنون در مدل ما اتفاق می افتد، در مدل محصول.

36
00:02:38,900 --> 00:02:40,420
ما روش ذخیره را داریم،

37
00:02:40,430 --> 00:02:45,520
اکنون می خواهم یک محصول را حذف کنم. بنابراین بیایید یک روش حذف را در آنجا اضافه کنیم

38
00:02:45,800 --> 00:02:52,460
و کاری که من قصد دارم اینجا انجام دهم این است که در واقع می خواهم این را به یک روش ثابت تبدیل کنم و شاید نام آن را بگذارم

39
00:02:52,460 --> 00:02:59,880
با شناسه حذف کنید، یک شناسه ارسال کنید و سپس تمام منطق حذف یک محصول را در اینجا داشته باشید. برای انجام این

40
00:02:59,900 --> 00:03:06,620
من اول از همه باید بفهمم کدام محصول را حذف کنم یا مجموعه محصولاتم را به روز کنم تا بتوانم

41
00:03:06,620 --> 00:03:08,740
آن را به فایل من بازگردانید

42
00:03:08,810 --> 00:03:14,980
بنابراین همانطور که در find by ID، آن را دریافت محصولات از فایل می نامم تا همه محصولات را دریافت کنم و در اینجا،

43
00:03:14,990 --> 00:03:16,940
سپس آرایه محصولات را دارم،

44
00:03:17,060 --> 00:03:20,670
در آنجا اکنون باید نمایه محصولی را که می خواهم حذف کنم پیدا کنم.

45
00:03:20,900 --> 00:03:28,160
بنابراین من از محصولات و سپس روش Find استفاده می کنم تا تمام محصولاتم را مرور کنم و محصول را با آن پیدا کنم

46
00:03:28,160 --> 00:03:28,980
شناسه

47
00:03:29,090 --> 00:03:36,090
من سعی می کنم حذف کنم، این مکانیزمی است که قبلا انجام دادیم، اوه، باید فهرست پیدا شود.

48
00:03:36,100 --> 00:03:41,920
اکنون این بدان معناست که من می توانم آرایه محصولات خود را به روز کنم تا این عنصر حذف شود و در واقع وجود داشته باشد

49
00:03:41,920 --> 00:03:43,430
حتی میانبری که می توانیم استفاده کنیم.

50
00:03:43,630 --> 00:03:51,010
من می توانم یک محصول ثابت و به روز جدید ایجاد کنم، محصولات موجود خود را بگیرم و از فهرست جستجو استفاده نکنم بلکه استفاده کنم

51
00:03:51,010 --> 00:03:53,790
در عوض روش فیلتر فیلتر کنید

52
00:03:53,860 --> 00:04:01,570
همچنین یک تابع ناشناس می گیرد و همه عناصر را به عنوان بخشی از یک آرایه جدید که مطابقت دارند به من برمی گرداند

53
00:04:01,750 --> 00:04:02,770
معیارها

54
00:04:02,800 --> 00:04:04,280
تابع من برمی گردد.

55
00:04:04,300 --> 00:04:05,500
بنابراین اگر این درست برگردد،

56
00:04:05,560 --> 00:04:07,140
عنصر حفظ می شود.

57
00:04:07,150 --> 00:04:13,150
اکنون می‌خواهم همه عناصری را که شناسه عنصر با شناسه‌ای که می‌خواهم حذف کنم برابر نیست، نگه دارم

58
00:04:13,510 --> 00:04:16,870
زیرا تمام عناصری که شناسه برابر نیست باید حفظ شوند

59
00:04:16,870 --> 00:04:20,890
اطراف، باید بخشی از آرایه جدید باشد که آرایه ای است که ذخیره می کنم

60
00:04:20,890 --> 00:04:23,000
بازگشت به پرونده من

61
00:04:23,060 --> 00:04:28,140
این بدان معنی است که در این تابع، من در واقع می خواهم برعکس را در اینجا برگردانم.

62
00:04:28,340 --> 00:04:31,470
بنابراین فقط اگر شناسه با شناسه مورد نظر من برابر نباشد،

63
00:04:31,610 --> 00:04:35,710
من می‌خواهم مورد را نگه دارم تا اگر شناسه‌ها مساوی نباشند، این مورد درست برمی‌گردد

64
00:04:35,720 --> 00:04:39,280
بنابراین مورد نگهداری می شود و فقط برای آن محصول واحد من به دنبال آن هستم

65
00:04:39,290 --> 00:04:40,270
این دروغ خواهد بود،

66
00:04:40,340 --> 00:04:48,430
بنابراین مورد در آرایه جدید نگهداری نمی شود. و این به سادگی به این معنی است که اکنون می توانم ادامه دهم و به روز شده خود را ذخیره کنم

67
00:04:48,430 --> 00:04:54,400
محصولاتی که همه محصولات هستند به جز محصولی که می خواهم دوباره در فایل حذف کنم. پس استفاده خواهم کرد

68
00:04:54,400 --> 00:05:04,240
فایل سیستم را در این مسیر بنویسم و ​​به سادگی محصولات به روز شده خود را با فرمت json اضافه کنم و سپس

69
00:05:04,240 --> 00:05:10,690
دوباره می‌توانم از تابع پاسخ تماس خود استفاده کنم یا آن را اضافه کنم تا ببینم آیا این خطایی ایجاد می‌کند یا خیر.

70
00:05:10,970 --> 00:05:13,500
حالا اگر خطا ندهد،

71
00:05:13,510 --> 00:05:19,960
بنابراین اگر همه چیز خوب پیش رفت، من نیز می خواهم آن محصول را از سبد خرید حذف کنم، البته چون من

72
00:05:19,960 --> 00:05:21,400
نمی توان آن را در یک سبد خرید داشت

73
00:05:21,550 --> 00:05:23,510
اگر محصول دیگر وجود نداشته باشد،

74
00:05:23,560 --> 00:05:24,500
درست.

75
00:05:24,910 --> 00:05:31,360
بنابراین به عنوان گام بعدی، روی سبد خرید نیز کار می کنیم و مطمئن می شویم که می توانیم موارد را از آنجا حذف کنیم، یک عملکرد

76
00:05:31,360 --> 00:05:31,780
نیاز داریم

77
00:05:31,780 --> 00:05:32,300
به هر حال
1
00:00:02,300 --> 00:00:07,670
بنابراین برای پر کردن این فرم با داده های محصول، ابتدا باید محصول را واکشی کنیم،

2
00:00:07,670 --> 00:00:16,190
بنابراین برای در حالت افزوده در اینجا پس از هدایت نشدن، سپس می خواهم اطلاعات محصول خود را دریافت کنم. برای این

3
00:00:16,340 --> 00:00:22,250
من به مدل محصولی که از قبل دارم نیاز دارم و به شناسه محصول نیاز دارم، شناسه محصول را می توان از آن بازیابی کرد

4
00:00:22,250 --> 00:00:27,940
درخواست ورودی زیرا اگر مسیرها را به سرعت بررسی کنید، آن بخش پویا را در اینجا داریم،

5
00:00:27,950 --> 00:00:31,640
بنابراین با این نام می توانیم شناسه محصول را استخراج کنیم.

6
00:00:31,890 --> 00:00:39,740
بنابراین در admin.js، اینجا می‌توانم تنظیم کنم یا می‌توانم به شناسه محصول درخواست پارامترها دسترسی داشته باشم و آن شناسه را از URL دریافت کنم.

7
00:00:40,190 --> 00:00:47,840
بنابراین من می توانم از مدل محصول خود استفاده کنم و این محصول را با شناسه پیدا کنم و سپس در اینجا، من تماس خود را دارم

8
00:00:47,840 --> 00:00:52,940
جایی که محصول بازیابی شده را دریافت می کنم و البته شما هم باید سعی کنید اضافه کنید

9
00:00:52,940 --> 00:00:58,640
بررسی کنید که آیا محصولی دارید یا خیر و در صورت نداشتن کاربر را تغییر مسیر دهید، اما اجازه دهید این کار را برای

10
00:00:58,640 --> 00:00:59,280
اکنون.

11
00:00:59,540 --> 00:01:07,100
بنابراین در اینجا من اکنون محصول خود را دریافت می کنم و سپس این صفحه را با فرض اینکه همیشه یک محصول دریافت می کنم و

12
00:01:07,100 --> 00:01:13,050
محصول من را روی یک کلید محصول بفرستید و البته می توانید نام این کلید را هرچه می خواهید بگذارید.

13
00:01:14,600 --> 00:01:20,000
و برای مثال می‌توانیم یک چک اضافه کنیم اگر محصولی نداریم، بنابراین اگر نامعتبر است، اگر تعریف نشده باشد

14
00:01:20,390 --> 00:01:26,210
سپس می‌توانیم در حال حاضر یک تغییر مسیر را برگردانیم که بهترین تجربه کاربری نیست،

15
00:01:26,210 --> 00:01:28,840
بیشتر اوقات شما می خواهید به جای آن یک خطا نشان دهید

16
00:01:28,970 --> 00:01:32,180
اما اجازه دهید در حال حاضر، در حال حاضر این کار را به این صورت.

17
00:01:32,180 --> 00:01:36,360
بنابراین ما فرض می کنیم که همیشه آن را اینجا می سازیم و اکنون محصول را در معرض دید قرار می دهیم،

18
00:01:36,530 --> 00:01:41,680
پس بیایید به نمای ویرایش محصول برویم. و اینجا اول از همه بیایید روی آن دکمه کار کنیم.

19
00:01:41,750 --> 00:01:43,170
در حال حاضر این محصول را اضافه می کند

20
00:01:43,310 --> 00:01:47,320
اما اگر در حالت ویرایش هستیم، می‌خواهم عنوان دکمه را تغییر دهم.

21
00:01:47,330 --> 00:01:54,140
اکنون به یاد داشته باشید که ما این ویژگی ویرایش را در اینجا تنظیم می کنیم تا این یک متغیر موجود در قالب باشد.

22
00:01:54,140 --> 00:02:03,230
بنابراین در اینجا من به سادگی می خواهم بررسی کنم که آیا در حال ویرایش است یا خیر و سپس یک بریس فرفری اضافه کنم.

23
00:02:03,320 --> 00:02:11,560
اگر این درست باشد، من در واقع می‌خواهم متن محصول را در اینجا روی دکمه به‌روزرسانی یا ویرایش کنم

24
00:02:14,220 --> 00:02:22,080
در غیر این صورت و برای آن، من اولین بلوک if را در اینجا می بندم و یک بلوک else را هنوز در تگ های ejs خود اضافه می کنم

25
00:02:22,080 --> 00:02:22,900
البته.

26
00:02:22,950 --> 00:02:29,040
بنابراین در غیر این صورت اگر ما در این بلوک else در اینجا هستیم، می‌خواهم محصول افزودن را نشان دهم و پس از آن نیز دارم

27
00:02:29,040 --> 00:02:35,700
برای بستن پرانتز فرفری آن عبارت if. اگر اکنون این صفحه را مجدداً بارگیری کنم، به‌روزرسانی محصول را به درستی می‌بینیم

28
00:02:35,700 --> 00:02:41,810
و ضمناً اگر برای افزودن محصول بروم، اکنون با خطا مواجه می شوم چون ویرایش تعریف نشده است.

29
00:02:44,040 --> 00:02:52,440
بنابراین برای رفع این مشکل، باید مطمئن شوم که در کنترلر خود، برای نمایش صفحه افزودن محصول، تنظیم کرده ام

30
00:02:52,460 --> 00:03:00,510
ویرایش به false البته و اکنون بارگذاری مجدد این صفحه در اینجا کار خواهد کرد،

31
00:03:00,620 --> 00:03:06,120
بازگشت به صفحه ویرایش دکمه به روز رسانی را به ما نشان می دهد.

32
00:03:06,200 --> 00:03:08,910
اکنون این یک مرحله است، بازگشت به الگو

33
00:03:09,020 --> 00:03:11,640
من فقط نمی‌خواهم عنوان را اینجا نشان دهم،

34
00:03:11,660 --> 00:03:17,360
من همچنین می خواهم عمل را تغییر دهم. بنابراین در اینجا در فرم، مسیری که درخواست را به آن ارسال می کنیم نیز باید باشد

35
00:03:17,480 --> 00:03:18,530
تغییر مسیر

36
00:03:18,530 --> 00:03:25,470
در حال حاضر همیشه محصول را اضافه می‌کند، اما فقط اگر در حالت ویرایش نباشیم، باید محصول اضافه شود.

37
00:03:25,490 --> 00:03:26,400
بنابراین در اینجا واقعا

38
00:03:26,630 --> 00:03:28,490
من همچنین چیزی پویا را خروجی خواهم کرد،

39
00:03:31,200 --> 00:03:33,840
بررسی می کنم که آیا در حال ویرایش هستیم،

40
00:03:34,310 --> 00:03:36,450
بنابراین من همان منطق دکمه را خواهم داشت

41
00:03:36,470 --> 00:03:44,700
و اگر اینطور باشد، من برای بارگذاری / ویرایش محصول رفتم فرض کنید، در غیر این صورت آن را میبندم و دارم

42
00:03:44,700 --> 00:03:54,010
بلوک else من باز می شود، در غیر این صورت این بلوک ejs else من است، من محصول را به آدرس اینترنتی خود در اینجا اضافه می کنم

43
00:03:54,340 --> 00:03:57,010
و من می توانم این بخش ها را به آدرس اینترنتی تزریق کنم

44
00:03:57,100 --> 00:04:00,280
زیرا این فقط در پایان به متن عادی تبدیل می شود.

45
00:04:01,060 --> 00:04:04,030
این همان کاری است که ejs انجام می دهد یا همه موتورهای قالب سازی انجام می دهند.

46
00:04:04,240 --> 00:04:09,750
پس آن بریس مجعد بلوک else را نیز در اینجا ببندید و با آن اگر این را ذخیره کنم، باید بسازیم

47
00:04:09,750 --> 00:04:14,350
مطمئن شوید که اگر روی دکمه به‌روزرسانی کلیک کنیم، به سمت ویرایش محصول می‌رویم.

48
00:04:14,370 --> 00:04:20,010
خوب بیایید به عقب برگردیم و ببینیم که آیا می‌توانیم این را با اطلاعات محصول از قبل پر کنیم.

49
00:04:20,010 --> 00:04:26,760
حالا به خاطر داشته باشید که در admin.js، من در حال بازیابی محصول هستم، اوه اینجا نیست، اما اینجا در دریافت ویرایش

50
00:04:26,770 --> 00:04:30,390
محصول و من اطلاعات محصول را در دید خود قرار می دهم.

51
00:04:30,690 --> 00:04:33,450
بنابراین در این دیدگاه، ما البته می توانیم از آن استفاده کنیم

52
00:04:33,790 --> 00:04:38,810
و می‌توانیم آن را روی همه ورودی‌هایمان، در اینجا روی مقدار، تنظیم کنیم،

53
00:04:38,920 --> 00:04:44,410
همچنین می‌خواهم بررسی کنم که آیا در حالت ویرایش هستم و اگر هستم، می‌خواهم اطلاعات محصولم را نمایش دهم، اگر

54
00:04:44,410 --> 00:04:46,790
من نیستم نمی خواهم این کار را بکنم.

55
00:04:46,810 --> 00:04:48,640
همان منطق قبلی

56
00:04:54,190 --> 00:05:01,750
بررسی می‌کنم که آیا در حال ویرایش هستم، اگر هستم، عنوان محصول را اینجا نشان می‌دهم زیرا این ورودی عنوان است

57
00:05:02,560 --> 00:05:07,370
در غیر این صورت من کاری انجام نمی دهم و بنابراین حتی به یک بلاک دیگر نیاز ندارم،

58
00:05:07,420 --> 00:05:09,880
من فقط اگر در حالت ویرایش باشم این کار را انجام می دهم

59
00:05:10,000 --> 00:05:11,530
در غیر این صورت هیچ اتفاقی نمی افتد

60
00:05:11,890 --> 00:05:19,780
بنابراین اگر اکنون این را دوباره بارگذاری کنم، ما واقعاً عنوان محصول را می بینیم و مسئله اینجاست که البته این به سادگی است

61
00:05:19,780 --> 00:05:23,130
خروجی به صورت متن، برای خروجی مقدار واقعی پشت آن،

62
00:05:23,230 --> 00:05:31,930
ما نیاز داریم که تگ برابر ejs در اینجا در تگ های دیگر ejs ما مانند این تودرتو باشد،

63
00:05:31,930 --> 00:05:37,620
بنابراین این اکنون اضافه شد، برابر است با باز کردن یک علامت دلار بزرگتر از علامت.

64
00:05:37,870 --> 00:05:39,820
و خواندن این ممکن است سخت باشد،

65
00:05:39,820 --> 00:05:44,530
شما به سادگی باید آن را به بلوک ها تقسیم کنید، اگر دارید، سپس خروجی را دریافت می کنید و سپس دارید

66
00:05:44,530 --> 00:05:51,120
بند بسته شدن فرفری برای و با ذخیره آن اگر اکنون دوباره بارگیری کنید، عنوان واقعی را در پشت آن خواهید دید

67
00:05:51,120 --> 00:05:54,920
که حالا بیایید همین کار را برای تمام مقادیر دیگر انجام دهیم،

68
00:05:55,050 --> 00:05:59,580
بنابراین من فقط آن مقدار را در اینجا به سرعت برای URL تصویر کپی می کنم.

69
00:05:59,670 --> 00:06:02,240
واضح است که من می خواهم تصویر را خروجی بگیرم

70
00:06:02,250 --> 00:06:07,070
آدرس اینترنتی، برای قیمت.

71
00:06:07,210 --> 00:06:13,210
من می خواهم قیمت محصول را خروجی کنم. برای توضیحات، یک ناحیه متنی دریافت می کنیم،

72
00:06:13,340 --> 00:06:20,890
بنابراین در اینجا من مقدار برابر نخواهم داشت، فقط مقدار بین متن باز و بسته شدن را خروجی می‌دهم

73
00:06:20,890 --> 00:06:22,180
برچسب های منطقه

74
00:06:22,290 --> 00:06:26,430
و در اینجا توضیحات را خروجی خواهم داد. و با آن همه را نجات داد

75
00:06:26,440 --> 00:06:29,050
اگر دوباره بارگذاری کنیم، به نظر خوب می رسد

76
00:06:29,140 --> 00:06:32,070
و اکنون می توانیم ویرایش محصولات خود را شروع کنیم.

77
00:06:32,500 --> 00:06:37,550
اکنون می‌خواهم آن دکمه ویرایش را وصل کنم تا بتوانیم محصول و این نمای تازه اضافه شده را بارگیری کنیم.

78
00:06:37,750 --> 00:06:38,700
پس بیایید این کار را انجام دهیم

79
00:06:38,830 --> 00:06:44,080
و سپس بر روی عملکرد ذخیره سازی اطلاعات به روز شده در سخنرانی های بعدی نیز کار کنید.